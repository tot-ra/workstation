{
  "$schema": "https://opencode.ai/config.json",
  "plugin": ["opencode-scheduler"],

  // Модульные инструкции агента
  "instructions": ["agent/rules/*.md"],

  "mcp": {
    "context7-library-docs": {
      "type": "local",
      "command": ["npx", "-y", "@upstash/context7-mcp@latest"],
      "enabled": false,
      "timeout": 60000,
    },
    "github": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-github"],
      "environment": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "{env:GITHUB_PERSONAL_ACCESS_TOKEN}",
      },
      "enabled": false,
      "timeout": 60000,
    },
    "search-internet-perplexity": {
      "type": "local",
      "command": ["npx", "-y", "perplexity-mcp"],
      "environment": {
        "PERPLEXITY_API_KEY": "{env:PERPLEXITY_API_KEY}",
      },
      "enabled": true,
      "timeout": 60000,
    },

    "server-browser-tools": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-browser-tools"],
      "enabled": false,
      "timeout": 60000,
    },

    "mcp_server_mysql": {
      "type": "local",
      "command": ["npx", "-y", "@benborla29/mcp-server-mysql"],
      "environment": {
        "MYSQL_HOST": "127.0.0.1",
        "MYSQL_PORT": "5100",
        "MYSQL_USER": "root",
        "MYSQL_PASS": "test",
        "ALLOW_INSERT_OPERATION": "false",
        "ALLOW_UPDATE_OPERATION": "false",
        "ALLOW_DELETE_OPERATION": "false",
      },
      "enabled": false,
      "timeout": 60000,
    },

    "x-twitter": {
      "type": "local",
      "command": ["npx", "-y", "@mbelinky/x-mcp-server"],
      "environment": {
        "API_KEY": "{env:API_KEY}",
        "API_SECRET_KEY": "{env:API_SECRET_KEY}",
        "ACCESS_TOKEN": "{env:ACCESS_TOKEN}",
        "ACCESS_TOKEN_SECRET": "{env:ACCESS_TOKEN_SECRET}",
      },
      "enabled": true,
      "timeout": 60000,
    }

  },
}
